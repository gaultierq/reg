<%= form_with(model: [:user, @user], local: true) do |form| %>
  <fieldset class="uk-fieldset">
    <% if @user.errors.any? %>
      <div id="error_explanation" class="uk-alert-danger" uk-alert>
        <h2><%= t("errors.template.header", count: @user.errors.count, model: 'utilisateur') %></h2>

        <ul>
          <% @user.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <div class="uk-margin">
      <%= form.label :email, "Adresse email", class: 'uk-form-label' %>
      <%= form.email_field :email, class: 'uk-input', data: { target: 'form.input' } %>
    </div>

    <div class="uk-margin">
      <%= form.label :phone_number, "Numéro de téléphone", class: 'uk-form-label' %>
      <%= form.text_field :phone_number, class: 'uk-input', data: {target: 'form.input'} %>
    </div>

    <div class="uk-margin">
      <%= form.label :last_name, "Nom", class: 'uk-form-label' %>
      <%= form.text_field :last_name, class: 'uk-input', data: {target: 'form.input'} %>
    </div>

    <div class="uk-margin">
      <%= form.label :first_name, "Prénom", class: 'uk-form-label' %>
      <%= form.text_field :first_name, class: 'uk-input', data: {target: 'form.input'} %>
    </div>

    <% if @user == current_user %>
      <%= link_to "Changer votre mot de passe", edit_user_registration_path %>
    <% end %>

    <div class="uk-margin-medium">
      <%= link_to 'Retour', user_faucets_path, class: 'uk-button uk-button-default' %>
      <%= form.submit "Enregistrer", class: 'uk-button uk-button-primary' %>
    </div>

  </fieldset>
<% end %>
