<h2>Demande de création de compte</h2>

<%= form_with(model: @registration, local: true, url: registration_index_path(), data: { controller: 'form' }, html: { class: 'uk-width-large' }) do |f| %>

  <% unless flash[:alert].nil? %>
    <div class="uk-alert-danger uk-text-center" uk-alert>
      <%= flash[:alert] %>
    </div>
  <% end %>

  <div class="uk-margin">
    <%= f.label :last_name, "Nom", class: 'uk-form-label' %>
    <%= f.text_field :last_name, autofocus: true, class: 'uk-input' %>
  </div>

  <div class="uk-margin">
    <%= f.label :first_name, "Prénom", class: 'uk-form-label' %>
    <%= f.text_field :first_name, autofocus: true, class: 'uk-input' %>
  </div>

  <div class="uk-margin">
    <%= f.label :email, "Adresse email", class: 'uk-form-label' %>
    <%= f.email_field :email, autofocus: true, class: 'uk-input' %>
  </div>

  <div class="uk-margin">
    <%= f.label :phone_number, "Téléphone", class: 'uk-form-label' %>
    <%= f.text_field :phone_number, autofocus: true, class: 'uk-input' %>
  </div>

  <div class="uk-margin">
    <%= f.label :admin_id, "Destinataire", class: 'uk-form-label' %>
    <%= f.select :admin_id, Admin.all.collect {|admin| [admin.full_name, admin.id]},
                    {include_blank: true}, {class: 'uk-select', data: {target: 'form.input'}} %>
  </div>

  <div class="uk-margin">
    <%= f.submit "Envoyer la demande", class: 'uk-button uk-button-primary uk-width-1-1' %>
  </div>
<% end %>